<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>URL Shortener - The Rebel Squad</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background: #000; color: #fff; font-family: sans-serif; }
  .card {
    background: #1a1a1a;
    padding: 1.5rem;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255, 255, 0, 0.2);
    transition: transform 0.3s;
    width: 100%;
    max-width: 500px;
    text-align: center;
    margin: auto;
  }
  .card:hover { transform: translateY(-5px); }
  .card h3 { color: #ffdd00; font-size: 1.25rem; margin-bottom: 0.5rem; }
  .btn {
    background: #ffdd00;
    color: #111;
    padding: 0.6rem 1.2rem;
    border-radius: 5px;
    font-weight: bold;
    margin-top: 1rem;
    cursor: pointer;
    transition: 0.3s;
    display: inline-block;
  }
  .btn:hover { background: #ffaa00; color: #000; }
  #result {
    margin-top: 1.5rem;
    text-align: left;
    background: #111;
    padding: 1rem;
    border-radius: 8px;
    font-size: 0.95rem;
  }
  .copy-btn {
    background: #ffdd00;
    color: #111;
    padding: 4px 8px;
    border-radius: 5px;
    margin: 4px 2px;
    cursor: pointer;
    font-size: 0.85rem;
    border: none;
    font-weight: bold;
  }
  a.short-link { color: #ffdd00; text-decoration: underline; }
</style>
</head>
<body class="font-sans">

<!-- Navbar -->
<header class="bg-black/90 fixed w-full z-50 shadow-md border-b border-yellow-500">
  <nav class="container mx-auto flex justify-between items-center p-4">
    <div class="flex items-center space-x-3">
      <img src="https://i.postimg.cc/jdKJ6RTW/1758183930168.png" alt="TRS Logo" class="w-10 h-10">
      <span class="text-yellow-400 font-bold text-lg">The Rebel Squad</span>
    </div>
    <a href="https://the-rebel-squad-trs.vercel.app/" 
       class="bg-yellow-400 text-black font-bold px-4 py-1 rounded hover:bg-yellow-300">
      ← Home
    </a>
  </nav>
</header>

<!-- Hero -->
<section class="h-72 flex flex-col justify-center items-center text-center bg-gradient-to-b from-black via-gray-900 to-black px-4 pt-24">
  <h3 class="text-3xl sm:text-4xl font-bold text-yellow-400">TRS - URL Shortener</h3>
  <p class="mt-3 text-gray-300">Paste your long URL below to generate a short one instantly.</p>
</section>

<!-- Shortener -->
<section class="downloads py-20 px-4 flex flex-col items-center justify-center">
  <h2 class="text-2xl font-bold text-yellow-400 mb-6">Shorten URL</h2>

  <div class="card">
    <h3>Enter Long URL</h3>
    <input type="url" id="urlInput" placeholder="Paste your long URL..." 
           class="p-3 rounded text-black w-full" required>
    <button id="shortenBtn" class="btn w-full">Shorten URL</button>
    <div id="result">Result will appear here...</div>
  </div>
</section>

<!-- Footer -->
<footer class="bg-black py-6 text-center border-t border-yellow-500">
  <p class="text-gray-500 text-sm">© 2025 The Rebel Squad - All Rights Reserved.</p>
</footer>

<script>
const btn = document.getElementById("shortenBtn");
const input = document.getElementById("urlInput");
const result = document.getElementById("result");

btn.addEventListener("click", async () => {
  result.innerHTML = "⏳ Generating short URL...";
  const longUrl = input.value.trim();
  if(!longUrl) return result.innerHTML = "<span style='color:red;'>⚠️ Please enter a URL!</span>";

  try {
    const res = await fetch(`https://rebel-api-server-ld11.onrender.com/api/shorten?url=${encodeURIComponent(longUrl)}`);
    if(!res.ok) throw new Error("API fetch failed");
    const data = await res.json();

    if(!data.status) throw new Error("Failed to shorten URL");

    result.innerHTML = `
      <b>Long URL:</b> <a href="${data.longUrl}" target="_blank" class="short-link">${data.longUrl}</a>
      <button class="copy-btn" onclick="navigator.clipboard.writeText('${data.longUrl}')">Copy</button><br><br>

      <b>Short URL:</b> <a href="${data.shortUrl}" target="_blank" class="short-link">${data.shortUrl}</a>
      <button class="copy-btn" onclick="navigator.clipboard.writeText('${data.shortUrl}')">Copy</button><br><br>

      <b>Developer:</b> ${data.developer} <br>
      <b>Facebook:</b> <a href="${data.devfb}" target="_blank" class="short-link">${data.devfb}</a> <br>
      <b>WhatsApp:</b> <a href="${data.devwp}" target="_blank" class="short-link">${data.devwp}</a>
    `;
  } catch(err) {
    result.innerHTML = `<span style="color:red;">❌ API Error: ${err.message}</span>`;
  }
});
</script>

</body>
</html>
