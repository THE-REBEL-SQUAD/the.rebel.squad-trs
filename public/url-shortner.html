<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>URL Shortener - The Rebel Squad</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background: #000; color: #fff; font-family: 'Courier New', monospace; margin:0; padding:0; }
  header { background: #111; border-bottom: 2px solid #ffdd00; padding: 10px 20px; display:flex; justify-content:space-between; align-items:center; }
  header img { width:40px; height:40px; }
  header a { color:#000; background:#ffdd00; padding:5px 12px; border-radius:6px; font-weight:bold; text-decoration:none; }
  section { padding: 20px; max-width:700px; margin:20px auto; }
  .card { background:#111; padding:20px; border-radius:12px; box-shadow:0 0 20px rgba(255,221,0,0.25); }
  .card input, .card button { width:100%; padding:10px; margin-top:10px; border-radius:8px; border:none; font-family: monospace; }
  .card input { background:#000; color:#fff; border:1px solid rgba(255,221,0,0.3); }
  .card input::placeholder { color:#555; }
  .card button { background:linear-gradient(90deg,#ffdd00,#ffaa00); color:#111; font-weight:bold; cursor:pointer; box-shadow:0 0 10px rgba(255,221,0,0.25); transition:0.2s; }
  .card button:hover { transform:scale(1.03); }
  #result { margin-top:15px; background:#1e1e1e; padding:15px; border-radius:8px; font-size:0.95rem; overflow-wrap:break-word; }
  .copy-btn { background:#ffdd00;color:#111;padding:4px 8px;border-radius:5px;margin:4px 2px; cursor:pointer; font-size:0.85rem; border:none; }
  a.short-link { color:#ffdd00; text-decoration:underline; }
</style>
</head>
<body>

<header>
  <div class="flex items-center gap-3">
    <img src="https://i.postimg.cc/jdKJ6RTW/1758183930168.png" alt="TRS Logo">
    <span style="color:#ffdd00; font-weight:bold;">The Rebel Squad</span>
  </div>
  <a href="/">← Home</a>
</header>

<section>
  <div class="card">
    <h3 style="color:#ffdd00; font-weight:bold;">Enter Long URL</h3>
    <input type="text" id="urlInput" placeholder="Paste your long URL...">
    <button id="shortenBtn">Shorten URL</button>
    <div id="result">Result will appear here...</div>
  </div>
</section>

<footer style="text-align:center; padding:10px; border-top:2px solid #ffdd00; color:#aaa;">© 2025 The Rebel Squad</footer>

<script>
const btn = document.getElementById("shortenBtn");
const input = document.getElementById("urlInput");
const result = document.getElementById("result");

btn.addEventListener("click", async () => {
  result.innerHTML = "⏳ Generating short URL...";
  const longUrl = input.value.trim();
  if(!longUrl) return result.innerHTML = "<span style='color:red;'>⚠️ Please enter a URL!</span>";

  try {
    const res = await fetch(`https://rebel-api-server-ld11.onrender.com/api/shorten?url=${encodeURIComponent(longUrl)}`);
    if(!res.ok) throw new Error("API fetch failed");
    const data = await res.json();

    if(!data.status) throw new Error("Failed to shorten URL");

    result.innerHTML = `
      <b>Long URL:</b> <a href="${data.longUrl}" target="_blank" class="short-link">${data.longUrl}</a>
      <button class="copy-btn" onclick="navigator.clipboard.writeText('${data.longUrl}')">Copy</button><br><br>

      <b>Short URL:</b> <a href="${data.shortUrl}" target="_blank" class="short-link">${data.shortUrl}</a>
      <button class="copy-btn" onclick="navigator.clipboard.writeText('${data.shortUrl}')">Copy</button><br><br>

      <b>Developer:</b> ${data.developer} <br>
      <b>Facebook:</b> <a href="${data.devfb}" target="_blank" class="short-link">${data.devfb}</a> <br>
      <b>WhatsApp:</b> <a href="${data.devwp}" target="_blank" class="short-link">${data.devwp}</a>
    `;
  } catch(err) {
    result.innerHTML = `<span style="color:red;">❌ API Error: ${err.message}</span>`;
  }
});
</script>

</body>
</html>
