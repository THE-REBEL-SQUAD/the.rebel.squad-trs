<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IP Location - The Rebel Squad</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<style>
  body { background: #000; color: #fff; font-family: 'Courier New', monospace; }
  .card {
    background: #111;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 0 20px rgba(255, 221, 0, 0.25);
    transition: transform 0.3s;
    width: 100%;
    max-width: 520px;
    text-align: center;
    margin: auto;
  }
  .card:hover { transform: translateY(-5px); }
  .card h3 { color: #ffdd00; font-size: 1.4rem; margin-bottom: 0.8rem; }
  .card input, .card button { width: 100%; margin-top: 0.7rem; }
  .card input {
    background: #000; /* black input */
    color: #fff;
    border-radius: 8px;
    padding: 0.6rem;
  }
  .card input::placeholder { color: #555; }
  .card button {
    background: linear-gradient(90deg, #ffdd00, #ffaa00);
    color: #111; font-weight: bold;
    border-radius: 8px; padding: 0.7rem;
    transition: 0.3s; box-shadow: 0 0 10px rgba(255, 221, 0, 0.3);
  }
  .card button:hover { transform: scale(1.03); }
  #result {
    margin-top: 15px;
    background: #1e1e1e;
    padding: 12px;
    border-radius: 8px;
    max-height: 250px;
    overflow-y: auto;
    font-size: 0.9rem;
    box-shadow: inset 0 0 10px #ffdd0033;
  }
  #map { height: 300px; margin-top: 15px; border-radius: 10px; }
</style>
</head>
<body>

<header class="bg-black/90 fixed w-full z-50 shadow-md border-b border-yellow-500">
  <nav class="container mx-auto flex justify-between items-center p-4">
    <div class="flex items-center space-x-3">
      <img src="https://i.postimg.cc/jdKJ6RTW/1758183930168.png" alt="TRS Logo" class="w-10 h-10">
      <span class="text-yellow-400 font-bold text-lg">The Rebel Squad</span>
    </div>
    <a href="https://the-rebel-squad-trs.vercel.app/" class="bg-yellow-400 text-black font-bold px-4 py-1 rounded hover:bg-yellow-300">‚Üê Home</a>
  </nav>
</header>

<section class="h-64 flex flex-col justify-center items-center text-center bg-gradient-to-b from-black via-gray-900 to-black px-4 pt-28">
  <h1 class="text-4xl font-bold text-yellow-400">üåç TRS - IP Location üåç</h1>
  <p class="mt-3 text-gray-300">Enter IP or auto detect your location</p>
</section>

<section class="py-20 px-4 flex flex-col items-center">
  <div class="card">
    <h3>Find Location</h3>
    <input type="text" id="ipInput" placeholder="Enter IP (leave blank for auto)">
    <button id="findBtn">Find Location</button>
    <div id="result">Result will appear here...</div>
    <div id="map"></div>
  </div>
</section>

<footer class="bg-black py-6 text-center border-t border-yellow-500">
  <p class="text-gray-500 text-sm">¬© 2025 <span class="text-yellow-400">The Rebel Squad</span></p>
</footer>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const btn = document.getElementById("findBtn");
const ipInput = document.getElementById("ipInput");
const resultDiv = document.getElementById("result");

const map = L.map("map").setView([20,0], 2);
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);
let marker;

btn.addEventListener("click", async () => {
  resultDiv.innerHTML = "‚è≥ Fetching...";
  const ip = ipInput.value.trim();
  try {
    const res = await fetch(ip ? `https://ipwho.is/${ip}` : `https://ipwho.is/`);
    const data = await res.json();
    if(!data.success) throw new Error(data.message || "Invalid IP");

    resultDiv.innerHTML = `
      <b>IP:</b> ${data.ip}<br>
      <b>Country:</b> ${data.country} (${data.country_code})<br>
      <b>Region:</b> ${data.region}<br>
      <b>City:</b> ${data.city}<br>
      <b>Lat/Lon:</b> ${data.latitude}, ${data.longitude}<br>
      <b>ISP:</b> ${data.connection?.isp || "N/A"}<br>
      <pre>${JSON.stringify(data, null, 2)}</pre>
    `;

    if(marker) map.removeLayer(marker);
    marker = L.marker([data.latitude, data.longitude]).addTo(map)
      .bindPopup(`${data.city}, ${data.country}`).openPopup();
    map.setView([data.latitude, data.longitude], 10);

  } catch(err) {
    resultDiv.innerHTML = `<span style="color:red;">Error: ${err.message}</span>`;
  }
});
</script>

</body>
</html>
